import{s as X,n as j,e as Z,o as $,h as ee,r as te}from"../chunks/scheduler.YQe7PuaW.js";import{S as ae,i as ne,e as H,a as A,f as w,g as p,s as k,m as O,h as d,j as x,y as P,c as q,n as Q,k as S,x as o,A as M,B as z,o as J,C as V}from"../chunks/index.M88L6zut.js";import{p as se}from"../chunks/stores.F35iPsBM.js";import{i as le,g as re,b as oe,c as F,a as ie,q as ue,w as Y}from"../chunks/index.esm2017.CLfoHVy4.js";import{b as W}from"../chunks/paths.Z12R2r5H.js";import{r as fe}from"../chunks/riddles.tWYBGBx9.js";function G(u){let e,t,a="The Forgotten Speakeasy",f,r,l="< Go Back",s,h,y=u[0].copy+"",I,B,_,b="Enter the number of the label on the item you found",m,C,R,g,T,E,v,D="âœ“",N,L,i=u[2]&&K(u);return{c(){e=p("center"),t=p("h1"),t.textContent=a,f=k(),r=p("a"),r.textContent=l,s=k(),h=p("h2"),I=O(y),B=k(),_=p("label"),_.textContent=b,m=p("br"),C=p("br"),R=k(),g=p("input"),T=k(),i&&i.c(),E=k(),v=p("button"),v.textContent=D,this.h()},l(c){e=d(c,"CENTER",{class:!0});var n=x(e);t=d(n,"H1",{"data-svelte-h":!0}),P(t)!=="svelte-q9sr6h"&&(t.textContent=a),f=q(n),r=d(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),P(r)!=="svelte-94obmw"&&(r.textContent=l),s=q(n),h=d(n,"H2",{});var U=x(h);I=Q(U,y),U.forEach(w),B=q(n),_=d(n,"LABEL",{for:!0,"data-svelte-h":!0}),P(_)!=="svelte-1npglxg"&&(_.textContent=b),m=d(n,"BR",{}),C=d(n,"BR",{}),R=q(n),g=d(n,"INPUT",{type:!0}),T=q(n),i&&i.l(n),E=q(n),v=d(n,"BUTTON",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-1ddyvj1"&&(v.textContent=D),n.forEach(w),this.h()},h(){S(r,"class","inline"),S(r,"href",`${W}/riddles/`),S(_,"for","answer"),S(g,"type","number"),S(v,"class","button"),S(e,"class","fade-in")},m(c,n){A(c,e,n),o(e,t),o(e,f),o(e,r),o(e,s),o(e,h),o(h,I),o(e,B),o(e,_),o(e,m),o(e,C),o(e,R),o(e,g),M(g,u[1]),o(e,T),i&&i.m(e,null),o(e,E),o(e,v),N||(L=[z(g,"input",u[4]),z(v,"click",u[3])],N=!0)},p(c,n){n&1&&y!==(y=c[0].copy+"")&&J(I,y),n&2&&V(g.value)!==c[1]&&M(g,c[1]),c[2]?i?i.p(c,n):(i=K(c),i.c(),i.m(e,E)):i&&(i.d(1),i=null)},d(c){c&&w(e),i&&i.d(),N=!1,te(L)}}}function K(u){let e,t,a,f,r;return{c(){e=p("br"),t=k(),a=p("small"),f=p("br"),r=O(u[2])},l(l){e=d(l,"BR",{}),t=q(l),a=d(l,"SMALL",{});var s=x(a);f=d(s,"BR",{}),r=Q(s,u[2]),s.forEach(w)},m(l,s){A(l,e,s),A(l,t,s),A(l,a,s),o(a,f),o(a,r)},p(l,s){s&4&&J(r,l[2])},d(l){l&&(w(e),w(t),w(a))}}}function ce(u){let e,t=u[0]&&G(u);return{c(){t&&t.c(),e=H()},l(a){t&&t.l(a),e=H()},m(a,f){t&&t.m(a,f),A(a,e,f)},p(a,[f]){a[0]?t?t.p(a,f):(t=G(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:j,o:j,d(a){a&&w(e),t&&t.d(a)}}}function pe(u,e,t){let a;Z(u,se,b=>t(7,a=b));let f=fe,r=null,l=null,s=null,h=null,y=null;$(()=>{const m=le({apiKey:"AIzaSyDPp3Yxy7rQNCy10DcMR8wY2227HoU_tyg",authDomain:"nye-scavenger-hunt.firebaseapp.com",projectId:"nye-scavenger-hunt",storageBucket:"nye-scavenger-hunt.appspot.com",messagingSenderId:"471479988691",appId:"1:471479988691:web:21e77b6bd4348bbc31bf26"});l=re(m),t(0,r=f.find(C=>C.id==h))}),ee(()=>{h=a.url.searchParams.get("q")});async function I(b){return(await ie(ue(F(l,"user-answers"),Y("answerId","==",b),Y("questionId","==",h)))).docs.map(C=>C.data())}async function B(){if(!r.valid_ids.includes(s)){t(2,y="That's not a valid number! Try again.");return}const b=await I(s);let m=100;b.length>0&&(m=60,m=m-(b.length-1)*10),await oe(F(l,"user-answers"),{name:window.localStorage.getItem("sh-playerName"),answerId:s,questionId:h,points:m}),window.location.href=`${W}/riddles/`}function _(){s=V(this.value),t(1,s)}return[r,s,y,B,_]}class ge extends ae{constructor(e){super(),ne(this,e,pe,ce,X,{})}}export{ge as component};
