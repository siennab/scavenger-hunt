import{s as A,n as S,o as D}from"../chunks/scheduler.YQe7PuaW.js";import{S as H,i as M,e as E,a as w,f as p,g as m,s as g,h as _,j as y,y as I,c as v,k as b,x as u,z as R,m as x,n as z,B}from"../chunks/index.M88L6zut.js";import{e as N}from"../chunks/each.-oqiv04n.js";import{b as k}from"../chunks/paths.Z12R2r5H.js";import{r as T}from"../chunks/riddles.tWYBGBx9.js";import{i as L,g as U,a as F,q as P,w as Y,c as K}from"../chunks/index.esm2017.CLfoHVy4.js";function $(o,t,e){const s=o.slice();return s[5]=t[e],s}function q(o){let t,e,s="<center>The Forgotten Speakeasy</center>",d,i,f="View Leaderboard >",h,c=N(T),l=[];for(let n=0;n<c.length;n+=1)l[n]=j($(o,c,n));return{c(){t=m("center"),e=m("h1"),e.innerHTML=s,d=g(),i=m("a"),i.textContent=f,h=g();for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){t=_(n,"CENTER",{class:!0});var r=y(t);e=_(r,"H1",{"data-svelte-h":!0}),I(e)!=="svelte-j5h4ty"&&(e.innerHTML=s),d=v(r),i=_(r,"A",{class:!0,href:!0,"data-svelte-h":!0}),I(i)!=="svelte-31dsbo"&&(i.textContent=f),h=v(r);for(let a=0;a<l.length;a+=1)l[a].l(r);r.forEach(p),this.h()},h(){b(i,"class","inline"),b(i,"href",`${k}/leaderboard/`),b(t,"class","fade-in")},m(n,r){w(n,t,r),u(t,e),u(t,d),u(t,i),u(t,h);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,null)},p(n,r){if(r&1){c=N(T);let a;for(a=0;a<c.length;a+=1){const C=$(n,c,a);l[a]?l[a].p(C,r):(l[a]=j(C),l[a].c(),l[a].m(t,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=c.length}},d(n){n&&p(t),R(l,n)}}}function j(o){let t,e,s=o[5].copy+"",d,i,f,h,c;function l(){return o[2](o[5])}return{c(){t=m("center"),e=m("button"),d=x(s),f=g(),this.h()},l(n){t=_(n,"CENTER",{});var r=y(t);e=_(r,"BUTTON",{class:!0});var a=y(e);d=z(a,s),a.forEach(p),f=v(r),r.forEach(p),this.h()},h(){e.disabled=i=o[0].includes(o[5].id.toString()),b(e,"class","button svelte-1v5hjf9")},m(n,r){w(n,t,r),u(t,e),u(e,d),u(t,f),h||(c=B(e,"click",l),h=!0)},p(n,r){o=n,r&1&&i!==(i=o[0].includes(o[5].id.toString()))&&(e.disabled=i)},d(n){n&&p(t),h=!1,c()}}}function O(o){let t,e=o[1]&&q(o);return{c(){e&&e.c(),t=E()},l(s){e&&e.l(s),t=E()},m(s,d){e&&e.m(s,d),w(s,t,d)},p(s,[d]){s[1]?e?e.p(s,d):(e=q(s),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:S,o:S,d(s){s&&p(t),e&&e.d(s)}}}function Q(o,t,e){let s=null,d=[],i=!1;D(()=>{let c=localStorage.getItem("sh-playerName");const l={apiKey:"AIzaSyDPp3Yxy7rQNCy10DcMR8wY2227HoU_tyg",authDomain:"nye-scavenger-hunt.firebaseapp.com",projectId:"nye-scavenger-hunt",storageBucket:"nye-scavenger-hunt.appspot.com",messagingSenderId:"471479988691",appId:"1:471479988691:web:21e77b6bd4348bbc31bf26"};if(!c)window.location.href=`${k}/user`;else{const n=L(l);s=U(n),f(c).then(r=>{e(0,d=r.map(a=>a.questionId)),e(1,i=!0)})}});async function f(c){return F(P(K(s,"user-answers"),Y("name","==",c))).then(l=>l.docs.map(n=>n.data()))}return[d,i,c=>{window.location.href=`${k}/riddle?q=${c.id}`}]}class ee extends H{constructor(t){super(),M(this,t,Q,O,A,{})}}export{ee as component};
